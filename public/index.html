<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,900" rel="stylesheet">
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"> -->
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.13.0/css/all.css" integrity="sha384-IIED/eyOkM6ihtOiQsX2zizxFBphgnv1zbe1bKA+njdFzkr6cDNy16jfIKWu4FNH" crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="/style.css"> -->
    <link rel="stylesheet" href="css/style.css"> 
    <title>Mily</title>
</head>
    <body>
        <nav class="mainNav">
            <h1 class="u-mar-b_0 u-c_white logo">
                <a id="mainNav_logo" href="/" class="u-remove-link-style">MILY</a>
            </h1>
            <div class="buttonGroup u-mar-l_auto">
                <a class="button" id="log-in_button" href="/#/log-in">Log in</a>
                <a class="button" id="sign-up_button" href="/#/sign-up">Sign up</a>
            </div>
            <button id="notification_indicator" data-dropdown-target="notification_menu" class="iconButton u-visibility_hidden" tooltip="Notifications"><i class="fal fa-bell"></i></button>
            <div id="notification_menu" class="dropdown u-p_absolute">
            </div>
            <!-- <button id="search_button" class="u-mar-l_2 u-mar-r_1 iconButton"><i class="fa fa-search"></i></button> -->
            <button id="view-preferences_button" class="u-mar-l_2 u-mar-r_2 iconButton" data-dropdown-target="view-preferences" tooltip="View preferences"><i class="fal fa-sliders-h"></i></button>
            <div id="view-preferences" class="dropdown u-visibility_hidden u-p_absolute">
                <div id="view-preferences_tree" class="dropdown__item">Tree</div>
                <div id="view-preferences_list" class="dropdown__item">List</div>
                <!-- <div id="view-preferences_list" class="dropdown__item">
                    <button class="iconButton view-preferences_zoomIn"><i fa-plus"></i></button>
                    <button class="iconButton u-mar-l_auto view-preferences_zoomOut"><i class="fa fa-minus"></i></button>
                </div> -->
            </div>
            <button id="accountMenu" class="u-mar-l_3" data-dropdown-target="accountMenu__dropdown"></button>
            <div id="accountMenu__dropdown" class="dropdown u-p_absolute u-visibility_hidden">
                <a href="#/my-trees" class="dropdown__item">My trees</a>
                <a href="#/profile" class="dropdown__item">Profile</a>
                <!-- <a href="#/settings" class="dropdown__item">Settings</a> -->
                <div tabindex="0" id="sign-out_button" class=" dropdown__item">Sign out</div>
            </div>

            <div id="pageTitle" class="u-mar-lr_auto u-c_white u-p_absolute"></div>
            <div class="mainNav__decoration"></div>
        </nav>

        <div style="display:none" data-view="account-verification">
            <div class="debugMessage"></div>
        </div>

        <div class="modal medium" data-modal="invite-members-to-tree_modal">
            <form id="invite-members-to-tree_form" class="card modal-dialouge" role="dialog">
                <div class="card__header">
                    <h2 class="u-mar-b_0 u-mar-t_0">Invite member</h2>
                </div>
                <div class="card__content">
                    <div class="inputGroup">
                        <label for="invite-member-to-tree_email">Send email invite to</label>
                        <input type="email" name="invite-member-to-tree_email" required>
                    </div>
                    <input type="text" name="invite-member-to-tree_id" hidden>
                    <p class="u-mar-t_2 u-mar-b_1 u-fw_600 u-font-size_15">Permission type
                        <i class="far fa-question-circle u-mar-l_1 u-cursor_pointer" data-modal-trigger="permissions-info"></i>
                    </p>
                    <div class="radioGroup">
                        <input type="radio" class="u-mar-r_2" id="permission-tree_viewer" name="invite-member-to-tree_permission" value="viewer" checked>
                        <label for="permission-tree_viewer">Viewer</label>

                        <input type="radio" class="u-mar-r_2" id="permission-tree_contributor" name="invite-member-to-tree_permission" value="contributor">
                        <label for="permission-tree_contributor">Contributor</label>

                        <input type="radio" class="u-mar-r_2" id="permission-tree_admin" name="invite-member-to-tree_permission" value="admin">
                        <label for="permission-tree_admin">Admin</label>
                    </div>
                </div>
                <div class="card__footer">
                    <div class="buttonGroup u-jc_flex-end">
                        <a href="#" class="modal_button--close button secondary">Cancel</a>
                        <button class="invite-member-tree_save" type="submit">Invite</button>
                    </div>
                </div>
                <a href="#" class="modal_button--close iconButton white" tooltip="Close"><i class="fal fa-times"></i></a>
            </form>
        </div>

        <div style="display:none" data-view="sign-up">
            <form id="sign-up_form" class="ifAuth--hide card u-mar-lr_auto">
                <div class="card__header u-pad_0">
                    <img src="/assets/img/wavy-sm--yellow.svg" alt="decoration">
                </div>
                <div class="card__content">
                    <h2>Sign up</h2>
                    <div class="inputGroup">
                        <label for="sign_up_email">Email</label>
                        <input type="email" name="sign-up_email" placeholder="Email">
                    </div>
                    <div class="inputGroup">
                        <label for="sign-up_password">Password</label>
                        <input type="password" name="sign-up_password" placeholder="Password">
                    </div>
                    <div class="checkboxGroup u-mar-t_4">
                        <input id="sign-up_age-verification" name="sign-up_age-verification" type="checkbox">
                        <label for="sign-up_age-verification">I'm 13 years or older.</label>
                    </div>
                    <p class="message"></p>
                    <p class="error"></p>
                </div>
                <div class="card__footer">
                    <button class="u-w_full">Sign up</button>
                    <p class="u-ta_center u-mar-lr_auto">Already have an account? <a href="#/log-in">Log in</a></p>
                </div>
            </form>
        </div>

        <div style="display:none" data-view="log-in">
            <form id="sign-in_form" class="card u-mar-lr_auto">
                <div class="card__header u-pad_0">
                    <img src="/assets/img/wavy-sm--yellow.svg" alt="decoration">
                </div>
                <div class="card__content">
                    <h2>Log in</h2>
                    <div class="inputGroup">
                        <label for="sign_in_email">Email</label>
                        <input type="email" name="sign-in_email" placeholder="Email">
                    </div>
                    <div class="inputGroup">
                        <label for="password">Password</label>
                        <input type="password" name="sign-in_password" placeholder="Password">
                        <p class="message"></p>
                    </div>
                </div>
                <div class="card__footer">
                    <!-- <a id="microsoft-sign-up_button" class="button u-mar-b_1 u-w_full" href="#">Sign in with Microsoft</a> -->
                    <button type="submit" class="u-w_full">Log in</button>
                    <p class="u-ta_center">or</p>
                    <a id="google-sign-up_button" class="button u-mar-b_1 u-w_full secondary" href="#"><i class="u-mar-r_1 fab fa-google"></i>Sign in with Google</a>
                    <p class="u-ta_center u-mar-lr_auto">Don't have an account? <a href="#/sign-up">Sign up</a></p>
                </div>
            </form>
        </div>

        <div style="display:none" data-view="my-trees">
            <div class="debugMessage u-mar-lr_auto u-mar-b_2 u-d_flex u-align-items_center" style="max-width: 600px;"></div>
            <ul id="myTree__list" class="u-d_flex u-fd_column u-ai_center u-jc_center" style="max-width: 600px"></ul>
            <div class="modal small medium" data-modal="create-tree_modal">
                <form id="create-tree_form_modal" class="card modal-dialouge">
                    <div class="card__header">
                        <h2 class="u-mar-b_0 u-mar-t_0">Create a tree</h2>
                    </div>
                    <div class="card__content">
                        <div class="inputGroup">
                            <label for="create-tree_name">Tree name</label>
                            <input type="text" name="create-tree_name" required>
                        </div>
                    </div>
                    <div class="card__footer">
                        <div class="buttonGroup u-jc_flex-end">
                            <a href="#" class="modal_button--close button secondary">Cancel</a>
                            <button type="submit">Create tree</button>
                        </div>
                    </div>
                    <a href="#" class="modal_button--close iconButton white"><i class="fal fa-times"></i></a>
                </form>
            </div>

            <!-- <div class="modal medium" data-modal="rename-tree_modal">
                <form id="rename-tree_form_modal" class="card modal-dialouge">
                    <div class="card__header">
                        <h1 class="u-mar-b_0">Create family</h1>
                    </div>
                    <div class="card__content">
                        <div class="inputGroup">
                            <label for="rename-tree_name">Family name</label>
                            <input type="text" name="rename-tree_name">
                        </div>
                    </div>
                    <div class="card__footer">
                        <div class="buttonGroup u-jc_flex-end">
                            <a href="#" class="modal_button--close button secondary">Cancel</a>
                            <button type="submit">Rename tree</button>
                        </div>
                    </div>
                    <a href="#" class="modal_button--close iconButton white"><i class="fal fa-times"></i></a>
                </form>
            </div> -->

        </div>

        <div style="display:none" data-view="error">
            <h1 class="u-mar-lr_auto">Not found</h1>
            <div class="debugMessage"></div>
        </div>

        <div style="display:none" data-view="tree">
            <div class="debugMessage"></div>
            <section id="mainContent">
            <section id="familyTree">
                <div id="branchContainer"></div>
            </section>
            <section id="familyTree__list">
                <table class="u-w_full">
                    <tr>
                        <th></th>
                        <th class="u-pad-l_1">Name</th>
                        <th class="u-pad_1">Email</th>
                        <th class="u-pad_1">Mobile phone</th>
                        <th class="u-pad_1">Birthday</th>
                        <th class="u-pad_1">Address</th>
                    </tr>
                </table>
            </section>
            <!-- <svg id="leaf_connections" width="160" height="280" xmlns="http://www.w3.org/2000/svg" version="1.1"></svg> -->
                <aside id="detailsPanel">
                    <nav class="detailsPanel__actions u-mar-b_6 u-mar-t_1">
                        <button class="iconButton add-relationship_button" data-dropdown-target="add-relationship-dropdown" tooltip="Add relationship" tooltip-position="right"><i class="fal fa-plus"></i></button>
                        <div class="detailsPanel__actions-secondary u-mar-l_auto u-d_flex">
                            <button class="iconButton secondary" id="member-more-options" data-dropdown-target="member-options-dropdown" tooltip="More options" tooltip-reveal="fast" tooltip-position="bottom middle" ><i class="far fa-ellipsis-v"></i></button>
                            <!-- <button class="iconButton secondary" id="invite-member-action" data-modal-trigger="invite-member_modal" tooltip="Invite member" tooltip-reveal="fast" tooltip-position="bottom middle" ><i class="fal fa-envelope"></i></button> -->
                            <!-- <button class="iconButton secondary u-mar-l_2" id="edit-member-action" tooltip="Edit" tooltip-position="bottom middle" ><i class="fal fa-pencil-alt"></i></button> -->
                            <button class="iconButton secondary details__button--close u-mar-l_2" tooltip="Hide panel" tooltip-position="bottom middle" ><i class="fal fa-times"></i></button> 
                        </div>
                    </nav>

                    <ul id="member-options-dropdown" class="dropdown u-visibility_hidden u-p_fixed">
                        <li id="claim-leaf-action" class="dropdown__item u-d_none">Claim this leaf</li>
                        <li data-modal-trigger="invite-member_modal" id="invite-member-action" class="dropdown__item u-d_none">Invite someone to claim</li>
                        <li id="delete-leaf-action" class="dropdown__item u-c_danger">Remove leaf from tree</li>
                    </ul>

                    <ul id="add-relationship-dropdown" class="dropdown u-visibility_hidden u-p_fixed">
                        <!-- <li class="dropdown__item dropdown__label">Add relationship</li> -->
                        <li id="add-parent-action" class="dropdown__item">Parent</li>
                        <li id="add-child-action" class="dropdown__item">Child</li>
                        <li id="add-sibling-action" class="dropdown__item">Sibling</li>
                        <li id="add-partner-action" class="dropdown__item">Partner</li>

                    </ul>
                    <div class="detailsPanel__information">
                        <div class="detailsPanel__profileImage u-mar-lr_auto u-mar-b_3"></div>
                        <div class="detailsPanel__firstName u-mar-lr_auto header_m u-ta_center"></div>
                        <p class="detailsPanel__fullName u-mar-lr_auto u-ta_center u-mar-b_6 u-font-size_14 u-mar-t_1"></p>
                        <!-- <h6 class="u-mar-b_4">Details</h6> -->
                        <div class="detailsPanel__metaData u-mar-b_7 u-mar-t_10"></div>
                        <!-- <h6 class="u-mar-b_4">Immediate family</h6> -->
                        <div class="detailsPanel__immediateFamily"></div>
                        <!-- <li id="delete-leaf-action" class="button danger secondary u-w_full u-mar-t_12">Delete leaf from tree</li> -->
                    </div>
                    <form id="detailsPanel__edit">
                    </form>
                </aside>
            </section>
        </div>

        <div style="display:none" class="u-pad_4 u-pad-t_8" data-view="profile">
            <div class="debugMessage"></div>
        </div>

        <div style="display:none" data-view="settings">
            <div class="debugMessage"></div>
            <h1>Settings</h1>
        </div>

        <div id="home" class="u-d_flex" style="display:none" data-view="homepage">
            <div class="debugMessage"></div>
        </div>

        <form id="create-tree_form" class="card u-mar-lr_auto u-d_none">
            <div class="card__header">
                <h2 class="u-mar-b_0">Create your first family tree!</h2>
            </div>
            <div class="card__content">
                <div class="inputGroup">
                    <label for="create-tree_name">Name your family tree</label>
                    <input type="text" name="create-tree_name">
                </div>
            </div>
            <div class="card__footer">
                <button class="u-w_full">Create tree</button>
            </div>
        </form>

        <div class="modal medium" data-modal="invite-member_modal">
            <form id="invite-member_form" class="card modal-dialouge">
                <div class="card__header">
                    <h2 class="u-mar-b_0 u-mar-t_0">Invite member</h2>
                    <p class="u-mar-b_0 u-text_low">Invite someone to claim this leaf on the family tree.</p>
                </div>
                <div class="card__content">
                    <div class="inputGroup">
                        <label for="invite-member_email">Email address</label>
                        <input type="text" name="invite-member_email" required>
                        <p class="error"></p>
                        <p class="u-mar-t_2 u-mar-b_1 u-fw_600 u-font-size_15">Permission type
                            <i class="far fa-question-circle u-mar-l_1 u-cursor_pointer" data-modal-trigger="permissions-info"></i>
                        </p>
                        <div class="radioGroup">
                            <input type="radio" class="u-mar-r_2" id="permission_viewer" name="invite-member_permission" value="viewer" checked>
                            <label tabindex="0" for="permission_viewer">Viewer</label>
    
                            <input type="radio" class="u-mar-r_2" id="permission_contributor" name="invite-member_permission" value="contributor">
                            <label tabindex="0" for="permission_contributor">Contributor</label>

                            <input type="radio" class="u-mar-r_2" id="permission_admin" name="invite-member_permission" value="admin">
                            <label tabindex="0" for="permission_admin">Admin</label>
                        </div>
                    </div>
                </div>
                <div class="card__footer">
                    <div class="buttonGroup u-jc_flex-end">
                        <a href="#" class="modal_button--close button secondary">Cancel</a>
                        <button type="submit">Send invitation</button>
                    </div>
                </div>
                <a href="#" class="modal_button--close iconButton white"><i class="fal fa-times"></i></a>
            </form>
        </div>

        <div class="modal small" data-modal="rename-tree_modal">
            <form id="rename-tree_form" class="card modal-dialouge" role="dialog">
                <div class="card__header">
                    <h2 class="u-mar-b_0 u-mar-t_0">Rename tree</h2>
                </div>
                <div class="card__content">
                    <div class="inputGroup">
                        <label for="rename-tree_name">Family name</label>
                        <input type="text" name="rename-tree_name">
                        <input type="text" name="rename-tree_id" class="u-d_none">
                    </div>
                </div>
                <div class="card__footer">
                    <div class="buttonGroup u-jc_flex-end">
                        <a href="#" class="modal_button--close button secondary">Close</a>
                        <button class="rename-tree_save" type="submit">Rename</button>
                    </div>
                </div>
                <a href="#" class="modal_button--close iconButton white" tooltip="Close"><i class="fal fa-times"></i></a>
            </form>
        </div>

        <div class="modal medium" data-modal="edit-tree_modal">
            <form id="edit-tree_form" class="card modal-dialouge" role="dialog">
                <a href="#" class="modal_button--close iconButton white"><i class="fal fa-times"></i></a>
                <div class="card__header u-pad-b_0">
                    <h2 class="u-mar-b_0 u-mar-t_0">Settings & Permissions
                        <i class="far fa-question-circle u-mar-l_1 u-cursor_pointer u-font-size_14" data-modal-trigger="permissions-info"></i>
                    </h2>
                </div>
                <div class="card__content">
                    <div class="inputGroup">
                        <input type="text" name="edit-tree_id" class="u-d_none">
                    </div>
                    <div class="permissions u-mar-t_2"></div>
                    <div class="checkboxGroup right u-mar-t_4 u-mar-b_1">
                        <input id="make-public" name="make-public" type="checkbox">
                        <label for="make-public">Make public</label>
                    </div>
                </div>
                <div class="card__footer">
                    <div class="buttonGroup u-jc_flex-end">
                        <a href="#" class="modal_button--close button secondary">Cancel</a>
                        <button class="edit-tree_save" type="submit">Save changes</button>
                    </div>
                </div>
            </form>
        </div>

        <div id="permissions-info" class="modal medium" data-modal="permissions-info">
            <div class="card modal-dialouge">
                <a href="#" class="modal_button--close iconButton white"><i class="fal fa-times"></i></a>
                <div class="card__header">
                    <h2 class="u-mar-t_0 u-mar-b_0">Permissions</h2>
                </div>
                <div class="card__content">
                    <h3 class="u-mar-t_0 u-mar-b_1">Viewer:</h3>
                    <p class="u-mar-t_0 u-text_low u-mar-b_0">Can view everything on the tree, but cannot edit any details besides their own.</p>
                    <h3 class="u-mar-b_1 u-mar-t_3">Contributor:</h3>
                    <p class="u-mar-t_0 u-text_low u-mar-b_0">Can create leaves and edit their data. Contributors can only remove leaves they have created.</p>
                    <h3 class="u-mar-b_1 u-mar-t_3">Admin:</h3>
                    <p class="u-mar-t_0 u-text_low u-mar-b_0">WIll be granted unlimited power.</p>
                </div>
                <div class="card__footer">
                    <button class="modal_button--close u-w_full">Dismiss</button>
                </div>
            </div>
        </div>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-app.js"></script>
    <!-- The core Firebase Libraries -->
    <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-functions.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-storage.js"></script>

    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyAcZZL5rDM5IueGWmkNzCXQlxlamOajn2g",
            authDomain: "mily-4c2a8.firebaseapp.com",
            databaseURL: "https://mily-4c2a8.firebaseio.com",
            projectId: "mily-4c2a8",
            messagingSenderId: "1885564039",
            storageBucket: "mily-4c2a8.appspot.com",
            appId: "1:1885564039:web:c6027cccf72728f96fdc22",
            measurementId: "G-R4V33BYYZ4"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        firebase.analytics();
    </script>

    <!-- Compiled and minified JavaScript -->
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src='https://unpkg.com/panzoom@8.7.3/dist/panzoom.min.js'></script>
    <!-- <script src="scripts/auth.js"></script> -->
    <script src="scripts/vars.js"></script>
    <script src="scripts/components/nav.js"></script>
    <script src="scripts/components/treeMenu.js"></script>
    <script src="scripts/views/tree.js"></script>
    <script src="scripts/views/myTrees.js"></script>
    <script src="scripts/views/profile.js"></script>
    <script src="scripts/views/account-verification.js"></script>
    <script src="scripts/views/homepage.js"></script>
    <script src="scripts/routing.js"></script>
    <script src="scripts/index.js"></script>
    <!-- <script src="scripts/settings.js"></script> -->
    </body>
</html>