<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"> -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="/style.css"> -->
    <link rel="stylesheet" href="css/style.css"> 
    <title>Mily</title>
</head>
    <body>
        <nav class="mainNav u-mar-b_6">
            <h1 class="u-mar-b_0 u-c_white logo"><a href="/" class="u-remove-link-style">MILY</a></h1>
            <div class="buttonGroup u-mar-l_auto">
                <button id="sign-up_button" class="ifAuth--hide">Log in</button>
                <button class="ifAuth--hide">Sign up</button>
            </div>
            <button id="notification_indicator" data-dropdown-target="notification_menu" class="u-mar-l_auto iconButton u-d_none"><i class="fa fa-bell"></i></button>
            <div id="notification_menu" class="dropdown u-p_absolute">
            </div>
            <button class="u-mar-l_2 u-mar-r_1 iconButton"><i class="fa fa-search"></i></button>
            <button class="ifAuth--show u-mar-l_2 u-mar-r_2 iconButton" data-dropdown-target="view-preferences"><i class="fa fa-eye"></i></button>
            <div id="view-preferences" class="dropdown u-d_none u-p_absolute">
                <div id="view-preferences_tree" class="dropdown__item">Tree</div>
                <div id="view-preferences_list" class="dropdown__item">List</div>
            </div>
            <div id="accountMenu" class="u-mar-l_1" data-dropdown-target="accountMenu__dropdown"></div>
            <div id="accountMenu__dropdown" class="dropdown u-p_absolute u-d_none">
                <a href="#/profile" class="dropdown__item">View profile</a>
                <a href="#/settings" class="dropdown__item">Account settings</a>
                <div id="sign-out_button" class=" dropdown__item">Sign out</div>
            </div>

            <div id="treeMenu" class="ifAuth--show u-mar-lr_auto u-c_white">
                <div id="treeMenu__currentTree" data-dropdown-target="treeMenu__options"></div>
                <ul id="treeMenu__options" class="dropdown u-p_absolute u-d_none"></div>
            </div>
            <img src="/assets/img/wavy-lg-dark.svg" alt="decoration" class="mainNav__decoration"/>
        </nav>

        <div style="display:none" data-view="tree">
            <div class="debugMessage"></div>
            <section id="familyTree"></section>
        </div>

        <div style="display:none" data-view="profile">
            <div class="debugMessage"></div>
            <form id="set-profile_form" class="card u-mar-lr_auto">
                <div class="card__header">
                    <h2 class="u-mar-b_0">Profile</h2>
                </div>
                <div class="card__content">
                    <div class="inputGroup">
                        <label for="set-profile__firstname">First name</label>
                        <input type="text" name="set-profile__firstname">
                    </div>
                    <div class="inputGroup">
                        <label for="set-profile__birthday">Birthday</label>
                        <input type="date" name="set-profile__birthday">
                    </div>
                </div>
                <div class="card__footer">
                    <button class="u-w_full">Continue</button>
                </div>
            </form>
        </div>

        <div style="display:none" data-view="settings">
            <div class="debugMessage"></div>
            <h1>Settings</h1>
        </div>

        <div id="home" class="u-d_flex" style="display:none" data-view="homepage">
            <div class="debugMessage"></div>
            <form id="sign-in_form" class="card u-mar-lr_auto">
                <div class="card__header u-pad_0">
                    <img src="/assets/img/wavy-sm--yellow.svg" alt="decoration">
                </div>
                <div class="card__content">
                    <h2>Log in</h2>
                    <div class="inputGroup">
                        <label for="sign_in_email">Email</label>
                        <input type="email" name="sign-in_email" placeholder="Email">
                    </div>
                    <div class="inputGroup">
                        <label for="password">Password</label>
                        <input type="password" name="sign-in_password" placeholder="Password">
                        <p class="message"></p>
                    </div>
                </div>
                <div class="card__footer">
                    <button type="submit" class="u-w_full">Log in</button>
                </div>
            </form>
    
            <form id="sign-up_form" class="ifAuth--hide card u-mar-lr_auto">
                <div class="card__header u-pad_0">
                    <img src="/assets/img/wavy-sm--yellow.svg" alt="decoration">
                </div>
                <div class="card__content">
                    <h2>Sign up</h2>
                    <div class="inputGroup">
                        <label for="sign_up_email">Email</label>
                        <input type="email" name="sign-up_email" placeholder="Email">
                    </div>
                    <div class="inputGroup">
                        <label for="sign-up_password">Password</label>
                        <input type="password" name="sign-up_password" placeholder="Password">
                        <p class="message"></p>
                    </div>
                    <div class="inputGroup">
                        <input type="checkbox">
                        <label for="I am 13 years of age or older."></label>
                    </div>
                    <p class="error"></p>
                </div>
                <div class="card__footer">
                    <button class="u-w_full">Sign up</button>
                </div>
            </form>
        </div>

        <form id="create-tree_form" class="card u-mar-lr_auto u-d_none">
            <div class="card__header">
                <h2 class="u-mar-b_0">Create your first family tree!</h2>
            </div>
            <div class="card__content">
                <div class="inputGroup">
                    <label for="create-tree_name">Name your family tree</label>
                    <input type="text" name="create-tree_name">
                </div>
            </div>
            <div class="card__footer">
                <button class="u-w_full">Create tree</button>
            </div>
        </form>
        <section id="mainContent">
            <!-- <section id="familyTree" class="ifAuth--show"></section> -->
            <aside id="detailsPanel">
                <nav class="detailsPanel__actions u-mar-b_4">
                    <button class="iconButton add-relationship_button" data-dropdown-target="add-relationship-dropdown"><i class="fa fa-plus"></i></button>
                    <div class="detailsPanel__actions-secondary u-mar-l_auto u-d_flex">
                        <button class="iconButton secondary" id="invite-member-action" data-modal-trigger="invite-member_modal"><i class="fa fa-envelope"></i></button>
                        <button class="iconButton secondary u-mar-l_2" data-dropdown-target="member-options-dropdown"><i class="fa fa-ellipsis-h"></i></button>
                        <button class="iconButton secondary details__button--close u-mar-l_2"><i class="fa fa-times"></i></button> 
                    </div>
                </nav>
                <ul id="member-options-dropdown" class="dropdown u-d_none u-p_fixed">
                    <li id="edit-member-action" class="dropdown__item">Edit member details</li>
                    <li id="remove-leaf-action" class="dropdown__item u-c_danger">Remove from tree</li>
                </ul>
                <ul id="add-relationship-dropdown" class="dropdown u-d_none u-p_fixed">
                    <li class="dropdown__item dropdown__label">Add relationship</li>
                    <li id="add-parent-action" class="dropdown__item">Parent</li>
                    <li id="add-child-action" class="dropdown__item">Child</li>
                    <li id="add-spouse-action" class="dropdown__item">Spouse</li>
                    <li id="add-sibling-action" class="dropdown__item">Sibling</li>
                </ul>
                <div class="detailsPanel__information">
                    <div class="detailsPanel__profileImage u-mar-lr_auto u-mar-b_3">
                        <img src="" alt="">
                    </div>
                    <div class="detailsPanel__firstName u-mar-lr_auto header_m u-ta_center u-mar-b_5"></div>
                    <h6 class="u-mar-b_4">Details</h6>
                    <div class="detailsPanel__metaData u-mar-b_7"></div>
                    <h6 class="u-mar-b_4">Immediate family</h6>
                    <div class="detailsPanel__immediateFamily"></div>
                </div>
                <form id="detailsPanel__edit" class="u-pad-b_10">
                </form>
            </aside>
        </section>

        <div class="modal medium" data-modal="invite-member_modal">
            <form id="invite-member_form" class="card modal-dialouge">
                <div class="card__header">
                    <h2 class="u-mar-b_0">Invite member</h2>
                </div>
                <div class="card__content">
                    <div class="inputGroup">
                        <label for="invite-member_email">Email address</label>
                        <input type="text" name="invite-member_email">
                        <p class="error"></p>
                        <div class="inputGroup inputGroup__horizontal u-mar-t_2">
                            <input type="radio" class="u-mar-r_2" name="invite-member_permission" value="admin">
                            <label for="permission">Admin</label>
                        </div>
                        <div class="inputGroup inputGroup__horizontal u-mar-r_2">
                            <input type="radio" class="u-mar-r_2" name="invite-member_permission" value="contributor">
                            <label for="permission">Contributor</label>
                        </div>
                        <div class="inputGroup inputGroup__horizontal u-mar-r_2">
                            <input type="radio" class="u-mar-r_2" name="invite-member_permission" value="viewer" checked>
                            <label for="permission">Viewer</label>
                        </div>
                    </div>
                </div>
                <div class="card__footer">
                    <div class="buttonGroup u-jc_flex-end">
                        <a href="#" class="modal_button--close button secondary">Cancel</a>
                        <button type="submit">Send invitation</button>
                    </div>
                </div>
                <a href="#" class="modal_button--close iconButton white"><i class="fa fa-times"></i></a>
            </form>
        </div>

        <div class="modal medium" data-modal="edit-tree_modal">
            <form id="edit-tree_form" class="card modal-dialouge">
                <div class="card__header">
                    <h2 class="u-mar-b_0">Edit family</h2>
                </div>
                <div class="card__content">
                    <div class="inputGroup">
                        <label for="edit-tree_name">Family name</label>
                        <input type="text" name="edit-tree_name">
                        <input type="text" name="edit-tree_id" class="u-d_none">
                        <h6 class="u-mar-t_4">Members</h6>
                        <div id="edit-tree_permissions" class="u-mar-b_2">

                        </div>
                    </div>
                </div>
                <div class="card__footer">
                    <div class="buttonGroup u-jc_flex-end">
                        <a href="#" id="delete-tree" class="modal_button--close button danger edit-tree_delete">Delete</a>
                        <a href="#" class="modal_button--close button secondary">Close</a>
                        <button class="edit-tree_save" type="submit">Save changes</button>
                    </div>
                </div>
                <a href="#" class="modal_button--close iconButton white"><i class="fa fa-times"></i></a>
            </form>
        </div>

        <div class="modal medium" data-modal="create-tree_modal">
            <form id="create-tree_form_modal" class="card modal-dialouge">
                <div class="card__header">
                    <h1 class="u-mar-b_0">Create family</h1>
                </div>
                <div class="card__content">
                    <div class="inputGroup">
                        <label for="create-tree_name">Family name</label>
                        <input type="text" name="create-tree_name">
                    </div>
                </div>
                <div class="card__footer">
                    <div class="buttonGroup u-jc_flex-end">
                        <a href="#" class="modal_button--close button secondary">Cancel</a>
                        <button type="submit">Create tree</button>
                    </div>
                </div>
                <a href="#" class="modal_button--close iconButton white"><i class="fa fa-times"></i></a>
            </form>
        </div>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-app.js"></script>
    <!-- The core Firebase Libraries -->
    <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-functions.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-storage.js"></script>

    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyAcZZL5rDM5IueGWmkNzCXQlxlamOajn2g",
            authDomain: "mily-4c2a8.firebaseapp.com",
            databaseURL: "https://mily-4c2a8.firebaseio.com",
            projectId: "mily-4c2a8",
            messagingSenderId: "1885564039",
            storageBucket: "mily-4c2a8.appspot.com",
            appId: "1:1885564039:web:c6027cccf72728f96fdc22",
            measurementId: "G-R4V33BYYZ4"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        firebase.analytics();

        const auth = firebase.auth();
        const db = firebase.firestore();
        const functions = firebase.functions();
        const storage = firebase.storage();

        const membersRef = db.collection('members');
        const treesRef = db.collection('trees');
        const notificationsRef = db.collection('notifications');
    </script>

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src='https://unpkg.com/panzoom@8.7.3/dist/panzoom.min.js'></script>
    <!-- <script src="scripts/auth.js"></script> -->
    <script type="module" src="scripts/index.js"></script>
    <!-- <script src="scripts/routing.js"></script>
    <script src="scripts/profile.js"></script> -->
    <!-- <script type="module" src="scripts/homepage.js"></script>
    <script src="scripts/settings.js"></script> -->
    <script src="scripts/dropdown.js"></script>

    <!-- <script src="scripts/leader-line.min.js"></script> -->

    </body>
</html>